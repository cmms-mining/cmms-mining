{% extends 'components/component_base.html' %}

{% load static %}

{% block component_content %}

    <table id="buckets_table" class="table table-striped" style="width:100%">
        <thead>
            <tr>
                <th>Номер</th>
                <th>Подрядчик</th>
                <th>Приоритет</th>
                <th>Плановая дата выполнения</th>
                <th>Дата выполнения</th>
            </tr>
        </thead>
        <tbody>
            {% for repair in component.repairs.all %}
                <tr>
                    <td>
                        <a href="{% url 'component_repair_update' component_number=component.number repair_pk=repair.pk %}" class="text-body custom-link">
                            {{ repair.pk }}
                        </a>
                    </td>
                    <td>{{ repair.contractor.name }}</td>
                    <td>{{ repair.priority }}</td>
                    <td>{{ repair.plan_end_date|date:"d.m.Y"|default:'-' }}</td>
                    <td>{{ repair.completed_at|date:"d.m.Y"|default:'-' }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

{% endblock component_content %}